# 4.1 The *ClassFile* Structure
---

*class* 파일은 단일 *ClassFile* structure로 이루어져 있다.

	ClassFile{
	
		u4				magic;
		u2				minor_version;
		u2				major_version;
		u2				constant_pool_count;
		cp_info			constant_pool[constant_pool_count-1];
		u2				access_flags;
		u2				this_class;
		u2				super_class;
		u2				interfaces_count;
		u2				interfaces[interfaces_count];
		u2				fields_count;
		field_info		fields[fields_count];
		u2				methods_count;
		method_info 	methods[methods_count];
		u2				attributes_count;
		attribute_info	attributes[attributes_count];
		
	}

*ClassFile* structure의 항목드은 다음과 같다.

* *magic* - *magic* 항목은 *class* file format을 식별하는 magic number을 공급한다. 이것은 *0xCAFEBABE* 값을 가진다.

* *minor_version, major_version* - *minor_version*과 *major_version* 항목의 값은 해당 *class* 파일의 minor, major version number이다. 동시에, minor, major version number는 *class* file format의 버전을 결정한다. *class* 파일이 major version number M과 minor version number m을 가지고 있다면, 우리는 이 *class* file format version을 M.m으로서 나타낸다. 그러므로 *class* file format version은 1.5, 2.0, 2,1과 같은 사전 순서로 정리될 수 있다.<br> JVM implementation은 버전 v가 연속적인 범위 Mi.0 <= v <= Mj.m에 놓여있다면, v 버전의 *class* file format을 지원할 수 있다. JVM implementation이 따르는 Java SE Platform의 release level은 범위를 결정하는 책임을 갖는다.<br> JDK release 1.0.2에서 오라클의 JVM implementation은 *class* file format의 45.0 - 45.3버전을 지원한다. JDK release 1.1.\*은 45.0 - 45.65535범위의 *class* file format version을 지원한다. k>=2인, JDK release 1.k 는 45.0 - 44+k.0 범위의 *class* file format version을 지원한다.

* *constant_pool_count* - *constant_pool_count* 항목의 값은 *constant_pool* 테이블에 있는 엔트리 숫자에 1을 더한 값과 같다. *constant_pool* 인덱스가 0보다 크고 *constant_pool_count*보다 작다면 유효하다고 생각된다. [4.4.5]()의 *long*과 *double* 타입의 상수에 대해서는 예외이다.

* *constant_pool[]* - constant_pool[4.4]()은 다양한 문자열 상수, 클래스와 인터페이스 이름, field 이름 그리고 *ClassFile* structure와 그 substructure 안에 참조되고 있는 상수들을 표현하는 structure의 테이블이다. 각 *constant_pool* table entry의 포맷은 각자의 첫 "tag" byte에 의해 표시된다.<br> *constant_pool* table의 인덱스는 1부터 *constant_pool_count* - 1 까지다.

* *access_flags* - *access_flags* 항목의 값은 클래스와 인터페이스에 대한 엑세스 권한과 속성을 표시하기 위해 사용되는 flag의 mask이다. 각 flag의 interpretation이 설정될 때 [Table 4.1-A, p73]로 명시된다.<br> *ACC_MODULE* flag는, 클래스나 인터페이스가 아닌, *class* file이 정의한 모듈을 나타낸다. ACC_MODULE flag가 설정된다면 이번 절의 끝에 있는 특별한 규칙이 *class*에 적용된다. ACC_MODULE이 
